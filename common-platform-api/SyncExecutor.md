# SyncExecutor
## 基本信息 
- 类名和包路径: taboolib.common.util.SyncExecutor
- 基本用途: 提供在异步线程和主线程之间安全切换执行任务的工具函数
- 类型: Kotlin 文件，包含顶层函数
- 所属模块: common-platform-api

## 类结构 
### 公开静态字段 
> 无公开静态字段（文件级别）

### 公开静态方法 
> sync<T>(func: () -> T): T -> 在异步线程中执行同步任务，并等待其完成，如果在主线程调用则抛出异常
> runSync<T>(func: () -> T): T -> 在异步线程中执行同步任务，并等待其完成，如果在主线程调用则直接执行

### 类内可被访问字段 
> 无类内可被访问字段（文件级别）

### 类方法
> 无类方法（文件级别）

## 实现细节
- 所有函数都是顶层函数，可以直接导入使用，无需通过类实例调用
- 使用 CompletableFuture 实现异步到同步的转换和结果等待
- 通过 isPrimaryThread 检查当前执行线程是否为主线程
- sync 函数在主线程调用时会抛出异常，强制开发者注意线程安全问题
- runSync 函数在主线程调用时会直接执行任务，无需切换线程
- 两个函数都会返回任务的执行结果，支持泛型类型

## 使用场景 
> 在异步线程中安全地访问和操作只能在主线程使用的 API
> 确保某些操作在主线程中执行，避免线程安全问题
> 在异步任务中执行需要同步执行的代码块
> 实现异步到同步的转换，等待异步操作完成

## 注意事项 
> sync 函数不能在主线程中调用，会抛出 IllegalStateException 异常
> runSync 函数可以在任何线程中调用，在主线程中会直接执行
> 这些函数会阻塞当前线程直到任务完成，应避免长时间阻塞
> 在使用这些函数时应注意避免死锁，特别是当任务依赖于其他异步操作时
